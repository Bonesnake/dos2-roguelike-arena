Version 1
SubGoalCombiner SGC_AND
INITSECTION
DB_Singleton("RoguelikeArena_SceneryItemCount", 75);

DB_RoguelikeArena_SceneryItemSpawnTriggers(0, (TRIGGERGUID)R1_Region_RoguelikeArena_Region01_5d9a77ab-fada-4521-bb2d-e93cab5c0949);

DB_RoguelikeArena_SceneryItemTemplates("RoguelikeArena_Tree_Palm_A_5e61f7d5-13a4-4bc9-b3b2-103744a4a684");
DB_RoguelikeArena_SceneryItemTemplates("RoguelikeArena_Tree_Palm_B_499311d9-fe88-4c89-b9b9-0d92dccd656f");
//DB_RoguelikeArena_SceneryItemTemplates(2, "ITEMGUID_RoguelikeArena_Eroded_Pilar_B_70451d18-e63c-447e-a7fd-b1e53b55b72a");

PROC_RoguelikeArena_StringPoolAddSceneryItems();
KBSECTION
PROC
PROC_RoguelikeArena_SpawnSceneryItems()
AND
DB_Singleton("RoguelikeArena_SceneryItemCount", _Count)
THEN
PROC_RoguelikeArena_SpawnSceneryItems(_Count);

PROC
PROC_RoguelikeArena_SpawnSceneryItems((INTEGER)_Count)
AND
QRY_RoguelikeArena_CreateIndices(_Count)
AND
DB_RoguelikeArena_CreatedIndices(_)
THEN
PROC_RoguelikeArena_SpawnSceneryItem();

PROC
PROC_RoguelikeArena_SpawnSceneryItem()
AND
QRY_RoguelikeArena_StringPoolSelectRandom("SceneryItemPool")
AND
DB_RoguelikeArena_StringPoolSelectedValue("SceneryItemPool", _Template)
AND
DB_RoguelikeArena_SceneryItemSpawnTriggers(0, _Trigger)
AND
GetRandomPositionInTrigger(_Trigger, _X, _Y, _Z)
AND
CreateItemTemplateAtPosition(_Template, _X, _Y, _Z, _SceneryItem)
THEN
PROC_RoguelikeArena_ItemRandomRotate(_SceneryItem);
PROC_RoguelikeArena_ItemSnapToGround(_SceneryItem);
//PROC_RoguelikeArena_ItemRegisterForCleanup(_SceneryItem);

PROC
PROC_RoguelikeArena_StringPoolAddSceneryItems()
AND
DB_RoguelikeArena_SceneryItemTemplates(_Template)
THEN
PROC_RoguelikeArena_StringPoolAdd("SceneryItemPool", _Template);
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "RoguelikeArena_Region"
